extends ../../layouts/default
include ../../mixins/formatDateTime.pug

block styles
  link(rel="stylesheet" href="/admin/css/detail.css")

block main
  if (role.permissions.includes("accounts_view"))
    .card.card-custom
      .card-header.card-header-custom.d-flex.justify-content-between.align-items-center
        h5(class="mb-0 font-weight-bold") Chi tiết tài khoản
        a(class="btn btn-back btn-sm" href=`${prefixAdmin}/accounts`)
          i(class="bi bi-arrow-left mr-1")
          | Quay lại

      .card-body
        // --- Tên tài khoản
        h2(class="font-weight-bold mb-3" style="color:#1b2a49") #{account.fullName}

        // --- Thông tin cơ bản
        h6(class="section-title") Thông tin cơ bản
        .row
          .col-md-6
            p
              span(class="info-label") Vai trò:
              |  #{account.roleName}
            p
              span(class="info-label") Email:
              |  #{account.email}
            p
              span(class="info-label") Số điện thoại:
              |  #{account.phone || '—'}
            p
              span(class="info-label") Địa chỉ:
              |  #{account.address || '—'}
            p
              span(class="info-label") Ngày sinh:
              |  #{account.birthday || '—'}
            p
              span(class="info-label") Trạng thái:
              if account.status === 'active'
                span(class="badge badge-success ml-1") Hoạt động
              else
                span(class="badge badge-danger ml-1") Ngừng hoạt động

        hr

        // --- Thông tin tạo & cập nhật
        h6(class="section-title") Thông tin hệ thống
        .row
          .col-md-6
            p
              span(class="info-label") Người tạo: 
              |  #{account.accountFullName}
            p
              span(class="info-label") Ngày tạo: 
              +formatDateTime(account.createdBy.createdAt)
          .col-md-6
              if(account.updatedBy.length)
                p
                  span(class="info-label") Cập nhật gần nhất:
                  - const updatedBy = account.updatedBy.slice(-1)[0];
                  |  #{updatedBy.fullName}
                p
                  span(class="info-label") Ngày cập nhật:  
                  +formatDateTime(updatedBy.updatedAt)
