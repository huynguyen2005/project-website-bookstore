extends ../../layouts/default
include ../../mixins/alert.pug

block styles
  link(rel="stylesheet", href="/admin/css/edit-account.css")

block main
  +alert-success(5000)
  +alert-error(5000)

  div(class="card")
    div(class="card-header d-flex justify-content-between align-items-center")
      h5(class="mb-0") Chỉnh sửa thông tin cá nhân
      a(class="btn btn-back btn-sm" href=`${prefixAdmin}/my-account`)
        i(class="bi bi-arrow-left mr-1")
        span Quay lại

    div(class="card-body")
      form(
        action=`${prefixAdmin}/my-account/edit?_method=PATCH`
        method="POST"
        enctype="multipart/form-data"
      )

        // --- Ảnh đại diện ---
        .div.form-group.mb-4(upload-image)
          label(for="thumbnail") Ảnh đại diện

          // Nút chọn file kiểu sách
          .d-flex.align-items-center.gap-2
            label.btn.btn-success.d-flex.align-items-center.gap-2.m-0.px-3.py-2(for="thumbnail")
              i.bi.bi-upload
              span Chọn tệp

            // Input file ẩn
            input#thumbnail.d-none(
              type="file"
              name="thumbnail"
              accept="image/*"
              upload-image-input
            )

          // Preview ảnh
          img.image-preview(
            src=user.thumbnail ? user.thumbnail : ""
            upload-image-preview
          )

        .form-row
          // --- Họ và tên ---
          .form-group.col-md-6
            label(for="fullName") Họ và tên
            input#fullName.form-control(
              type="text"
              name="fullName"
              required
              placeholder="Nhập họ và tên"
              value=user.fullName
            )

          // --- Email ---
          .form-group.col-md-6
            label(for="email") Email
            input#email.form-control(
              type="email"
              name="email"
              required
              placeholder="Nhập email"
              value=user.email
            )

        .form-row
          // --- Số điện thoại ---
          .form-group.col-md-6
            label(for="phone") Số điện thoại
            input#phone.form-control(
              type="text"
              name="phone"
              placeholder="Nhập số điện thoại"
              value=user.phone
            )

          // --- Ngày sinh ---
          .form-group.col-md-6
            label(for="birthday") Ngày sinh
            input#birthday.form-control(
              type="date"
              name="birthday"
              value=user.birthday ? user.birthday : ''
            )

        // --- Địa chỉ ---
        div(class="form-group")
          label(for="address") Địa chỉ
          input#address.form-control(
            type="text"
            name="address"
            placeholder="Nhập địa chỉ"
            value=user.address
          )

        button.btn.btn-primary.mt-3(type="submit")
          | Cập nhật
