extends ../../layouts/default
include ../../mixins/alert.pug

block main
  +alert-success(5000)
  +alert-error(5000)

  form(action=`${prefixAdmin}/accounts/create` method="POST" enctype="multipart/form-data")
    div(class="card")
      div(class="card-header d-flex justify-content-between align-items-center")
        h5(class="mb-0") Thêm tài khoản
        a(class="btn btn-outline-secondary" href=`${prefixAdmin}/accounts`) Quay lại danh sách

      div(class="card-body")
        ul(class="nav nav-tabs mb-3" role="tablist" style="border-bottom:2px solid #f0f0f5;")
          li(class="nav-item")
            a(class="nav-link active fw-semibold"
              href="javascript:;"
              data-bs-toggle="tab"
              role="tab"
              style="color:#4a6cf7; border:none; border-bottom:3px solid #4a6cf7; background:none;"
            )
              i(class="bi bi-person-fill me-1" style="color:#4a6cf7;")
              | Thông tin tài khoản

        div(class="tab-content")
          div(class="tab-pane fade show active" id="account-info" role="tabpanel")
            h6(class="mb-3 fw-bold") Thông tin tài khoản

            div(class="form-group row mb-3 align-items-start")
              label(for="email" class="col-sm-2 col-form-label") Email
              div(class="col-sm-10")
                input(id="email" class="form-control" type="email" name="email" required placeholder="Nhập email")
              
            div(class="form-group row mb-3 align-items-start")
              label(for="password" class="col-sm-2 col-form-label") Mật khẩu
              div(class="col-sm-10")
                input(id="password" class="form-control w-100" type="password" name="password" required placeholder="Nhập mật khẩu" onkeyup="check();")

            div(class="form-group row mb-3 align-items-start")
              label(for="confirmPassword" class="col-sm-2 col-form-label") Xác nhận mật khẩu
              div(class="col-sm-10")
                input(id="confirmPassword" class="form-control w-100" type="password" name="confirmPassword" required placeholder="Nhập lại mật khẩu" onkeyup="check();")
                small(id="message" class="d-block mt-1 fw-semibold" style="color:red;")

            div(class="form-group row mb-3 align-items-start")
              label(for="role_id" class="col-sm-2 col-form-label") Nhóm quyền
              div(class="col-sm-10")
                select(id="role_id" class="form-control" name="role_id")
                  option(value="") Lựa chọn
                  each role in roles
                    option(value=role._id) #{role.title}

            div(class="form-group row mb-3 align-items-center")
              label(for="status" class="col-sm-2 col-form-label mb-0") Trạng thái
              div(class="col-sm-10 d-flex align-items-center")
                div(class="form-check me-3")
                  input(class="form-check-input" type="radio" name="status" id="active" value="active" checked)
                  label(class="form-check-label" for="active") Hoạt động
                div(class="form-check")
                  input(class="form-check-input" type="radio" name="status" id="inactive" value="inactive")
                  label(class="form-check-label" for="inactive") Dừng hoạt động

        hr(class="my-4")

        h6(class="mb-3 fw-bold") Thông tin cá nhân

        div(class="form-group row mb-3 align-items-start")
          label(for="fullName" class="col-sm-2 col-form-label") Họ và tên *
          div(class="col-sm-10")
            input(id="fullName" class="form-control" type="text" name="fullName" required placeholder="Nhập họ và tên")

        div(class="form-group row mb-3 align-items-start")
          label(for="phone" class="col-sm-2 col-form-label") Số điện thoại *
          div(class="col-sm-10")
            input(id="phone" class="form-control" type="text" name="phone" required placeholder="Nhập số điện thoại")

        div(class="form-group row mb-3 align-items-start")
          label(for="address" class="col-sm-2 col-form-label") Địa chỉ
          div(class="col-sm-10")
            input(id="address" class="form-control" type="text" name="address" placeholder="Nhập địa chỉ")

        div(class="form-group row mb-3 align-items-start")
          label(for="birthday" class="col-sm-2 col-form-label") Ngày sinh
          div(class="col-sm-10")
            input(id="birthday" class="form-control" type="date" name="birthday")

        div(class="form-group row mb-3 align-items-start" upload-image)
          label(class="col-sm-2 col-form-label fw-semibold") Ảnh đại diện
          div(class="col-sm-10")
            input(type="file" class="form-control-file w-auto" id="thumbnail" name="thumbnail" accept="image/*" upload-image-input)
            img(src="" class="image-preview mt-2" upload-image-preview style="width:120px; height:120px; border-radius:10px; border:1px solid #ddd; object-fit:cover;")
            span(btn-close style="cursor:pointer; font-weight:bold;")

        div(class="text-end mt-4")
          button(class="btn btn-primary" type="submit") Cập nhật
