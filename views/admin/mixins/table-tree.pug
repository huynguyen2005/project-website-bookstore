mixin table-tree(items, level = 1)
  each item in items
    - const prefix = Array(level + 1).join('-- ')
    tr
      // Checkbox
      td
        input(
          type="checkbox"
          name="id"
          value=item.id
        )

      // Tên danh mục
      td
        strong #{prefix}#{item.title}
        br
        small(class="text-muted")
          a(href="javascript:;" data-id=item.id button-detail) Chi tiết
          |  · 
          a(href="javascript:;" data-id=item.id button-edit) Sửa
          |  · 
          a(href="javascript:;" data-id=item.id button-delete) Xóa
          if item.status === "inactive"
            |  · 
            span(
              class="text-success cursor-pointer"
              data-id=item.id
              data-status=item.status
              button-change-status
            ) Hoạt động
          else
            |  · 
            span(
              class="text-danger cursor-pointer"
              data-id=item.id
              data-status=item.status
              button-change-status
            ) Ngừng hoạt động

      // Vị trí
      td #{item.position}

      // Trạng thái
      td
        if item.status === "active"
          span(class="badge-status badge-active") Hoạt động
        else
          span(class="badge-status badge-inactive") Ngừng hoạt động

      // Người tạo
      td
        if item.createdBy
          span #{item.createdBy}
        else
          span(class="text-muted") Không rõ

    if item.children && item.children.length > 0
      +table-tree(item.children, level + 1)
