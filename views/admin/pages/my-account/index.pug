extends ../../layouts/default
include ../../mixins/alert.pug

block main
  +alert-success(5000)
  +alert-error(5000)

  div(class="card")
    div(class="card-header d-flex justify-content-between align-items-center")
      h5(class="mb-0") Thông tin tài khoản
      a.btn.btn-edit.btn-sm(href=`${prefixAdmin}/my-account/edit`)
        i.bi.bi-pencil-square.mr-1
        | Chỉnh sửa

    div(class="card-body")

      // --- Ảnh đại diện ---
      if user.thumbnail
        div(class="mb-4 text-center")
          img(
            src=user.thumbnail
            alt="Avatar"
            style="width:120px;height:120px;border-radius:50%;object-fit:cover;border:2px solid #ccc;"
          )
      else
        div(class="mb-4 text-center text-muted") (Chưa có ảnh đại diện)

      // --- Họ tên ---
      div(class="form-group")
        label(class="font-weight-bold") Họ và tên:
        span(class="ml-1") #{user.fullName}

      // --- Email ---
      div(class="form-group")
        label(class="font-weight-bold") Email:
        span(class="ml-1") #{user.email}

      // --- Số điện thoại ---
      div(class="form-group")
        label(class="font-weight-bold") Số điện thoại:
        if user.phone
          span(class="ml-1") #{user.phone}
        else
          span(class="ml-1").text-muted (Chưa cập nhật)

      // --- Địa chỉ ---
      div(class="form-group")
        label(class="font-weight-bold") Địa chỉ:
        if user.address
          span(class="ml-1") #{user.address}
        else
          span(class="ml-1").text-muted (Chưa cập nhật)

      // --- Ngày sinh ---
      div(class="form-group")
        label(class="font-weight-bold") Ngày sinh:
        if user.birthday
          span(class="ml-1") #{user.birthday}
        else
          span(class="ml-1").text-muted (Chưa cập nhật)

      // --- Vai trò ---
      if role
        div(class="form-group")
          label(class="font-weight-bold") Vai trò:
          span(class="ml-1") #{role.title}

      // --- Trạng thái ---
      div(class="form-group")
        label(class="font-weight-bold") Trạng thái: 
        if user.status === "active"
          span(class="badge badge-success ml-1") Hoạt động
        else
          span(class="badge badge-danger ml-1") Ngừng hoạt động

      // --- Ngày tạo ---
      div(class="form-group")
        label(class="font-weight-bold") Ngày tạo:
        span(class="ml-1") #{new Date(user.createdAt).toLocaleString('vi-VN')}
