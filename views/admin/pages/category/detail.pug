extends ../../layouts/default

block styles
  link(rel="stylesheet" href="/admin/css/detail.css")

block main
  .card.card-custom
    .card-header.card-header-custom.d-flex.justify-content-between.align-items-center
      h5(class="mb-0 font-weight-bold") Chi tiết danh mục
      a(class="btn btn-back btn-sm" href=`${prefixAdmin}/products`)
        i(class="bi bi-arrow-left mr-1")
        span Quay lại
    .card-body
      // --- Tên sách
      h2(class="font-weight-bold mb-3" style="color:#1b2a49") #{product.bookName}

      // --- Mô tả
      if product.description
        p(class="text-secondary") #{product.description}
      else
        p(class="text-muted") Không có mô tả

      hr

      // --- Thông tin cơ bản
      h6(class="section-title") Thông tin cơ bản
      .row
        .col-md-6
          p
            span(class="info-label") Giá:
            |  
            span(class="text-danger") #{product.price.toLocaleString()} VNĐ
          p
            span(class="info-label") Giảm giá:
            |  #{product.discountPercent}%
          p
            span(class="info-label") Số trang:
            |  #{product.pageCount}
          p
            span(class="info-label") Kích thước:
            |  #{product.size}
          p
            span(class="info-label") Ngày xuất bản:
            |  #{product.publishDate ? product.publishDate.toISOString().slice(0,10) : '—'}

        .col-md-6
          p
            span(class="info-label") Tồn kho:
            |  #{product.stockQuantity}
          p
            span(class="info-label") Đánh giá trung bình:
            |  #{product.averageRating}
          p
            span(class="info-label") Lượt đánh giá:
            |  #{product.reviewCount}
          p
            span(class="info-label") Nhà xuất bản:
            |  #{product.publisher.publisherName}
          p
            span(class="info-label") Nhà phân phối:
            |  #{product.distributor.distributorName}

      hr

      // --- Phân loại & tình trạng
      h6(class="section-title") Phân loại & tình trạng
      .row
        .col-md-6
          p
            span(class="info-label") Danh mục:
            |  #{product.category.level1.categoryName}
          p
            span(class="info-label") Loại sách:
            |  #{product.category.level2.genreName}
          p
            span(class="info-label") Loại bìa:
            |  #{product.coverType.coverName}
          p
            span(class="info-label") Tác giả:
            |  #{product.authors.map(a => a.authorName).join(', ')}

        .col-md-6
          p
            span(class="info-label") Trạng thái:
            if product.status === 'active'
              span(class="badge badge-success ml-1") Hoạt động
            else
              span(class="badge badge-danger ml-1") Ngừng hoạt động
          p
            span(class="info-label") Vị trí hiển thị:
            |  #{product.position}
          p
            span(class="info-label") Ngày tạo:
            |  #{product.createdAt ? product.createdAt.toLocaleString() : '—'}
          p
            span(class="info-label") Cập nhật gần nhất:
            |  #{product.updatedAt ? product.updatedAt.toLocaleString() : '—'}


