extends ../../layouts/default

block styles
  link(rel="stylesheet" href="/admin/css/create.css")

block main
  if (role.permissions.includes("blogs_create"))
    .card
      .card-header.d-flex.justify-content-between.align-items-center
        h5.mb-0 Thêm bài viết mới

      .card-body
        form(
          action=`${prefixAdmin}/blogs/create`
          method="POST"
          enctype="multipart/form-data"
        )

          // --- Tiêu đề bài viết ---
          .form-group
            label(for="title") Tiêu đề
            input#title.form-control(type="text" name="title" placeholder="Nhập tiêu đề bài viết")

          // --- Nội dung ---
          .form-group
            label(for="content") Nội dung
            textarea#content.form-control(
              name="content"
              rows="10"
              placeholder="Nhập nội dung bài viết..."
            )

          // --- Ảnh đại diện ---
          .form-group(upload-image)
            label(for="thumbnail") Ảnh đại diện
            .d-flex.align-items-center.gap-2
              label(for="thumbnail" class="btn btn-success d-flex align-items-center gap-2 m-0 px-3 py-2")
                i(class="bi bi-upload")
                span Chọn tệp
              input#thumbnail.d-none(
                type="file"
                name="thumbnail"
                accept="image/*"
                upload-image-input
                onchange="previewSingleImage(event)"
              )
            // Khu vực hiển thị ảnh đại diện
            .mt-2#preview-thumbnail.d-flex.flex-wrap.gap-2
              if blog && blog.thumbnail
                img.image-preview(src=blog.thumbnail)

          // --- Trạng thái ---
          .form-group
            label(for="status") Trạng thái
            select#status.form-control(name="status")
              option(value="active") Hoạt động
              option(value="inactive") Ngừng hoạt động

          button.btn.btn-primary.mt-3(type="submit") Tạo mới
