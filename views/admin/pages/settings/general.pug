extends ../../layouts/default
include ../../mixins/select-tree.pug
include ../../mixins/alert.pug

block styles
  link(rel="stylesheet", href="/admin/css/edit.css")
  
block main
  if (role.permissions.includes("settings"))
    +alert-success(5000)
    +alert-error(5000)
    .card
      .card-header.d-flex.justify-content-between.align-items-center
        h5.mb-0 Cài đặt chung

      .card-body
        form(
          action=`${prefixAdmin}/settings/general?_method=PATCH`
          method="POST"
          enctype="multipart/form-data"
        )

          .form-group
            label(for="websiteName") Tên Website
            input.form-control(
                type="text"
                name="websiteName"
                placeholder="Nhập tên Website"
                value=(settingGeneral && settingGeneral.websiteName) || ""
            )

          .form-group(upload-image)
            label(for="thumbnail") Logo
            .d-flex.align-items-center.gap-2
              label(for="thumbnail" class="btn btn-success d-flex align-items-center gap-2 m-0 px-3 py-2")
                i(class="bi bi-upload")
                span Chọn tệp
              input#thumbnail.d-none(
                type="file"
                name="thumbnail"
                accept="image/*"
                upload-image-input
                onchange="previewSingleImage(event)"
              )
            // Khu vực hiển thị ảnh đại diện
            .mt-2#preview-thumbnail.d-flex.flex-wrap.gap-2
              if settingGeneral
                img.image-preview(src=(settingGeneral && settingGeneral.thumbnail) || "")
          .form-group 
            label(for="phone") Số điện thoại
            input.form-control(
              type="tel"
              name="phone"
              placeholder="Nhập số điện thoại"
              value=(settingGeneral && settingGeneral.phone) || ""
            )   
          .form-group 
            label(for="email") Email
            input.form-control(
              type="email"
              name="email"
              placeholder="Nhập Email"
              value=(settingGeneral && settingGeneral.email) || ""
            )  
          .form-group 
            label(for="address") Địa chỉ
            input.form-control(
              type="text"
              name="address"
              placeholder="Nhập địa chỉ"
              value=(settingGeneral && settingGeneral.address) || ""
            )  
          .form-group 
            label(for="copyright") Copyright
            input.form-control(
              type="text"
              name="copyright"
              placeholder="Nhập Copyright"
              value=(settingGeneral && settingGeneral.copyright) || ""
            ) 
          button.btn.btn-primary.mt-3(type="submit") Cập nhật

